\subsection{Accounting}

Even though there is a type called {\tt DataOperation} in {\tt DIRAC}
accounting system, a new type called {\tt DataTransfer}
is introduced to avoid the data mixing between transfer system
and other systems in {\tt DIRAC}.
The accounting system 
in {\tt DIRAC} is flexible. Refer to figure \ref{fig:acct},
we only need to define 
what a data type is and how this data will be shown.
We create two classes derived from {\tt BaseAccountingType}
and {\tt BaseReporter} respectively.
When a user send a plotting request in the web portal, 
DIRAC will call these methods automatically.
\begin{figure}[htbp]
    \input{sub_acct_fig.tex}
    \caption{\label{fig:acct}DIRAC Accounting System}
\end{figure}
