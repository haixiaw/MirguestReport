\subsection{Accounting}

The accounting system 
in {\tt DIRAC} is flexible. We only need to define 
what a data type is and how this data will be shown.
Even though there is a type called {\tt DataOperation} in {\tt DIRAC},
we define our own type. We don't want to mix the data between 
transfer system and the other systems in {\tt DIRAC}.
It is also a try to have our own data type.
The schema is defined in table \ref{tb:acct}.
\begin{table}[htbp]
    \caption{\label{tb:acct} Schema of the data transfer accounting type}
    \begin{center}
        \begin{tabular}{ll|ll}
\br
\multicolumn{2}{c|}{Key Fields} & 
\multicolumn{2}{|c}{Value Fields}
\\
field name    & field type  & field name      & field type \\
\hline
User          & VARCHAR(32) &   TransferSize  & BIGINT UNSIGNED \\
Source        & VARCHAR(32) &   TransferTime  & FLOAT \\
Destination   & VARCHAR(32) &   TransferOK    & INT UNSIGNED \\
Protocol      & VARCHAR(32) &                 & \\
FinalStatus   & VARCHAR(32) &                 & \\
\br
        \end{tabular}
    \end{center}
\end{table}

\begin{figure}[htbp]
    \input{sub_acct_fig.tex}
    \caption{\label{fig:acct}DIRAC Accounting System}
\end{figure}
